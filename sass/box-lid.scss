// TODO make mixins
// TODO license
@import "compass/css3";

$box-lid-background: #000;
$box-lid-menu-width: 200px;
$box-lid-menu-color: #fff;
$box-lid-bar-width:  40px;
$box-lid-transition: cubic-bezier(0.75, 0, 0.175, 1);

.box-lid {

  @include perspective(2000);
  @include perspective-origin(50% 50%);
  background-color: $box-lid-background;

  .box-lid-content {
    @include transition(all 500ms $box-lid-transition);
  }

  .box-lid-icon {
    @include transition(all 250ms $box-lid-transition);
    position: absolute;
    top: 50%;
    left: 25%;
  }

  .box-lid-icon:before {
    content: '';
    position: absolute;
    width: 1.1em;
    height: 0.15em;
    background: black;
    box-shadow:
      0 0.25em 0 0 black,
      0 0.5em 0 0 black;
  }

  .box-lid-menu {
    width: $box-lid-bar-width;
    position: fixed;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.08);
    top: 0;
    left: 0;
    z-index: 2;
    nav {
      @include transition(all 500ms $box-lid-transition);
      display: block;
      height: 100%;
      width: $box-lid-menu-width;
      position: absolute;
      top: 0;
      left: -1.2 * $box-lid-menu-width;
      color: $box-lid-menu-color;
      a { display: block; }
    }
  }

  &.box-lid-open {
    .box-lid-content {
      @include transform(rotateY(-30deg) translateZ(0px) translateX(200px));
    }
    .box-lid-icon { @include opacity(0); }
    .box-lid-menu nav { left: 0; }
  }

}
